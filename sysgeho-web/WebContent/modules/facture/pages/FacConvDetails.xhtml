<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">
      
 	<ui:composition template="/shared/templates/templateFormulaireDetails.xhtml">
   			
		<ui:param name="managedBean" value="#{sessionScope[facConvCtrl.nomManagedBean2]}" />
		<ui:param name="entetePage" value=" d'une facture conventionnelle" />
		
	<!-- Definition du contenu de l'ecran principal  -->
		<ui:define name="ecranPrincipalContenu">
				
			<h:panelGroup>
				<fieldset>
					<legend> <h:outputText value="Informations #{locale.societe}" styleClass="legend" />  </legend>

        			<h:panelGrid columns="2" width="100%" columnClasses="pngdColMiddle" rowClasses="pngdRow"  >
        							         		
         				<h:panelGrid columns="2"  width="100%" columnClasses="pngdColLeftDynamic,pngdColRightDynamic"  >

							<h:outputText value="#{locale.societe}" />
							<h:panelGroup>
								<h:inputText id="inpt_codSoc" value="#{facConvCtrl.defaultVue.entiteCourante.tabSoc.codSoc}" style="width: 20%" 
									readonly="true" title="Code" disabled="false">
									<a4j:support event="onchange" ajaxSingle="true" />
								</h:inputText>	
								<h:inputText id="inpt_libSoc" value="#{facConvCtrl.defaultVue.entiteCourante.tabSoc.libSoc}" style="width: 40%" 
									readonly="true"  title="#{locale.libelle}" disabled="false"> 
									<a4j:support event="onchange" ajaxSingle="true" />
								</h:inputText>
							</h:panelGroup>
							
							<h:outputText value="Nom du responsable" />
							<h:inputText  value="#{facConvCtrl.defaultVue.entiteCourante.tabSoc.libResp}" style="width: 60%" readonly="true"  title="Nom du responsable" />
						
							<h:outputText value="#{locale.siege}" rendered="#{! empty facConvCtrl.defaultVue.entiteCourante.tabSoc.codSoc}" />
							<h:inputText  value="#{facConvCtrl.defaultVue.entiteCourante.tabSoc.libSiege}" style="width: 60%" readonly="true"  title="#{locale.siege}" />
						
							<h:outputText value="#{locale.telephone}" rendered="#{! empty facConvCtrl.defaultVue.entiteCourante.tabSoc.codSoc}" />
							<h:inputText  value="#{facConvCtrl.defaultVue.entiteCourante.tabSoc.libTel}" style="width: 40%" readonly="true"  title="#{locale.telephone}" />
							
							<h:outputText value="#{locale.estaffilie} ?" rendered="#{! empty facConvCtrl.defaultVue.entiteCourante.tabSoc.codSoc}"/>
							<h:selectBooleanCheckbox value="#{facConvCtrl.defaultVue.entiteCourante.tabSoc.BEstAff}"  disabled="true" >
								<a4j:support ajaxSingle="true"  event="onchange" />
							</h:selectBooleanCheckbox>
							
						</h:panelGrid>
							
						<h:panelGrid columns="2" width="100%" columnClasses="pngdColLeftDynamic,pngdLColRightDynamic" cellspacing="10" >
							
						</h:panelGrid>
						
					</h:panelGrid>
         	
				</fieldset>								
			</h:panelGroup>
			
			<h:panelGroup>
				<fieldset>
					<legend> <h:outputText value="#{locale.infocompl}" styleClass="legend" />  </legend>

        			<h:panelGrid columns="2" width="100%" columnClasses="pngdColMiddle" rowClasses="pngdRow"  >
        							         		
         				<h:panelGrid columns="2"  width="100%" columnClasses="pngdColLeftDynamic,pngdColRightDynamic"  >
         					
							<h:outputText value="#{locale.reffac}" />	
							<h:panelGroup>
								<h:inputText id="inpt_reffea" value="#{facConvCtrl.defaultVue.entiteCourante.refFacConv}" style="width: 60%" 
									readonly="true" title="#{locale.reffac}">
									<a4j:support event="onchange" ajaxSingle="true" />
								</h:inputText>	
								<rich:message for="inpt_reffea" errorClass="msg_error" />
							</h:panelGroup>
         					
							<h:outputText value="Effectif du personnel"/>
							<h:panelGroup>
								<h:inputText id="inpt_eff" value="#{facConvCtrl.defaultVue.entiteCourante.valEff}"  
									 style="width: 60%" title="Effectif du personnel" readonly="true" styleClass="money" converterMessage="#{msg['erreur.conversion.entiere']}">
									 <a4j:support event="onchange" ajaxSingle="true" />
									 <f:convertNumber currencySymbol="F CFA" pattern="#,###"   />
								</h:inputText>
							</h:panelGroup>
							
							<h:outputText value="Tarification fixe mensuelle"/>
							<h:panelGroup>
								<h:inputText id="inpt_taf" value="#{facConvCtrl.defaultVue.entiteCourante.valTrfFixMsuel}"  
									 style="width: 60%" title="Tarification fixe mensuelle" readonly="true" styleClass="money" converterMessage="#{msg['erreur.conversion.entiere']}">
									 <a4j:support event="onchange" ajaxSingle="true" />
									 <f:convertNumber currencySymbol="F CFA" pattern="#,###"   />
								</h:inputText>
							</h:panelGroup>
							
							<h:outputText value="Prix unitaire par #{locale.employe}"/>
							<h:panelGroup>
								<h:inputText id="inpt_prxuni" value="#{facConvCtrl.defaultVue.entiteCourante.valPrixUni}"  
									 style="width: 60%" title="Prix unitaire par #{locale.employe}" readonly="true" styleClass="money" converterMessage="#{msg['erreur.conversion.entiere']}">
									 <a4j:support event="onchange" ajaxSingle="true" />
									 <f:convertNumber currencySymbol="F CFA" pattern="#,###"   />
								</h:inputText>
							</h:panelGroup>
							
							<h:outputText value="Montant Total :" />											
							<h:inputText  value="#{facConvCtrl.defaultVue.entiteCourante.valMntTotal}" style="width: 60%" styleClass="money"  
										title="Montant total de la facture" readonly="true" >
								<f:convertNumber currencySymbol="F CFA"  type="currency" pattern="#,###"  />
							</h:inputText>	
         				
         				</h:panelGrid>  
         				
         				<h:panelGrid columns="2"  width="100%" columnClasses="pngdColLeftDynamic,pngdColRightDynamic"  >
         				
         					<h:outputText value="#{locale.moisfacture}" />
         					<h:panelGroup>
         						<h:inputText  value="#{facConvCtrl.defaultVue.entiteCourante.LEnuMoisFac}" style="width: 30%" readonly="true"  title="#{locale.moisfacture}"/>
         						<h:inputText  value="#{facConvCtrl.defaultVue.anneeEnCour}" style="width: 10%" title="Annee"/>
         					</h:panelGroup>
         					
         					<h:outputText value="Date Facturation" />
         					<h:inputText value="#{facConvCtrl.defaultVue.entiteCourante.dateFac}" readonly="true" style="width: 30%" title="Date Facturation"  >
								<f:convertDateTime type="date" dateStyle="full" pattern="dd/MM/yyyy" timeZone="GMT+1" />
							</h:inputText>
							
							<h:outputText value="Objet" />
							<h:inputTextarea id="inpt_objet"  value="#{facConvCtrl.defaultVue.entiteCourante.libObj}"   style="width: 60%" readonly="true">
								<a4j:support event="onchange" ajaxSingle="true"/>
							</h:inputTextarea>
							
							<h:outputText value="Infos Compl." />
							<h:panelGroup>
								<h:inputTextarea id="inpt_infoCmpl"  value="#{facConvCtrl.defaultVue.entiteCourante.libInfCompl}"   style="width: 60%"  readonly="true">
									<a4j:support event="onchange" ajaxSingle="true"/>
								</h:inputTextarea>
							</h:panelGroup>	
         				
         				</h:panelGrid> 
         				         		         		
         			</h:panelGrid>  
         	
				</fieldset>								
			</h:panelGroup>
			
		</ui:define>
	
	</ui:composition>
	
</html>
